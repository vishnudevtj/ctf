

ifndef MACHINE
  MACHINE=$(shell $(CC) -dumpmachine)
endif

ifneq (,$(findstring x86,$(MACHINE)))
   CC:=arm-linux-gnueabihf-gcc
else
   CC:=gcc
endif

CANARY:=-fstack-protector
EXEC_STACK:=-zexecstack -fno-stack-protector
PIE:=-no-pie


all:
	$(CC) $(PIE) -o ./bof/bof  ./bof/bof.c
	$(CC) $(PIE) $(CANARY) -o ./fmt/fmt  ./fmt/fmt.c
	$(CC) $(PIE) $(EXEC_STACK) -o ./shellcode/shell  ./shellcode/shell.c

